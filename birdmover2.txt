using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BirdMovement : MonoBehaviour
{
    [SerializeField] private RigidBody2D _rigidbody2D;
    [SerializeField] private float _force;
    [SerializeField] private float _hightJump;

    private IEnumerator _RotataionEnumerator;


    public void Jump()
    {
        //hmax = v0 * v0 / (2g)    hmax * 2g = v0 * v0      srt(hmax * 2g) = v0
        Vector2 currentSpeed = _rigidbody2D.velocity;
        float startSpeed = Mathf.Sqrt(_hightJump * 2 * Mathf.Abs(Physics.gravity.y));
        _rigidbody2D.velocity = new Vector2(speed.x, 0);
        _rigidbody2D.AddForce(new Vector2.up * startSpeed * _rigidbody2D.mass), ForceMode2D.Impulse);
    }
    private void Rotate()
    {
        
        int minAngle = -45f;
        int maxAngle = 45f;
        StartCoroutine(RotateBird(minAngle, maxAngle));

        if (_RotataionEnumerator != null) ;
        {
            StopCoroutine(_RotataionEnumerator);

        }
        _RotataionEnumerator = RotateBird(minAngle, maxAngle)
    }

    private IEnumerator RotateBird(float minAngle, float maxAngle)
    {
        float timeAnimation = 1f;
        float timeOnFrame = timeAnimation / (maxAngle - minAngle)
        WaitForSeconds wait = new WaitForSeconds(timeOnFrame);
        for (int i = minAngle; i < maxAngle; i++)
        {
            _rigidbody2D.rotation = (float)i;
            yield return wait;
        }
        
    }
}